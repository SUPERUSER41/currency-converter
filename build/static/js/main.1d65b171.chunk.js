(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(64)},39:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(7),l=a.n(s),r=a(3),o=a(6),m=(a(39),a(12)),u=a.n(m),i=a(25),d=a(26),E=a.n(d),f=(a(58),a(27)),b=a.n(f),g=Object(r.b)(function(e){return{toggle:e.main.toggle}},function(e){return{handleToggle:function(t){e({type:"SET_TOGGLE",toggle:!t})}}})(function(e){return c.a.createElement("div",{className:"flex-container"},c.a.createElement("label",{className:"flex-item"},"SELLING"),c.a.createElement("div",{className:"flex-item"},c.a.createElement(b.a,{className:"switch",onColor:"#ffffff",offColor:"#C9C9C9",onHandleColor:"#92245D",uncheckedIcon:!1,checkedIcon:!1,onChange:function(){e.swap(),e.handleToggle(e.toggle)},checked:e.toggle})),c.a.createElement("label",{className:"flex-item"},"BUYING"))}),v=a(9),p=(a(60),function(e){var t=Object(n.useState)({items:[]}),a=Object(v.a)(t,2),s=a[0],l=a[1],r=Object(n.useState)(!1),o=Object(v.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)(null),d=Object(v.a)(i,2),E=d[0],f=d[1];return Object(n.useEffect)(function(){l(e.items),f(e.selectedItem)},[e,E]),c.a.createElement("div",null,c.a.createElement("div",{className:"select--container"},c.a.createElement("div",{className:"select--selected-item"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("img",{src:E?E.data.image:"",alt:""})),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"currency-block"},c.a.createElement("p",{className:"currency-code"},E?E.data.base:""),c.a.createElement("p",{className:"currency-name"},E?E.data.name:""))))),c.a.createElement("div",{className:"select--arrow",onClick:function(){u(function(e){return!e})}},c.a.createElement("span",{className:"".concat(m?"select--arrow-up":"select--arrow-down")})),c.a.createElement("div",{style:{display:m?"block":"none"},className:"select--items"},s.length>0&&"from"===e.id?s.map(function(t){return c.a.createElement("div",{key:t.id,onClick:function(){return e.selectItem(t,e.id,u)},className:E===t?"selected row align-items-center justify-content-center":"row currencies align-items-center justify-content-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("img",{src:t.data.image,alt:""})),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"currency-block"},c.a.createElement("p",{className:"currency-code"},t.data.base),c.a.createElement("p",{className:"currency-name"},t.data.name))))}):E?c.a.createElement("div",{onClick:function(){return e.selectItem(E,e.id,u)},className:"selected row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-3"},c.a.createElement("img",{src:E.data.image,alt:""})),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"currency-block"},c.a.createElement("p",{className:"currency-code"},E.data.base),c.a.createElement("p",{className:"currency-name"},E.data.name)))):"")))}),y=a(8),N=a.n(y),T=(a(62),Object(r.b)(function(e){return{test:e.main,lastInput:e.main.lastInput,toggle:e.main.toggle,currencies:e.main.currencies,amount:e.main.amount,base:e.main.base,selectedItem:e.main.selectedItem,convertTo:e.main.convertTo}},function(e){return{saveLastCalculatedEntry:function(t){e({type:"SAVE_LAST_CALCULATED",value:t})},setResultsInRedux:function(t){e({type:"SET_RESULTS",payload:t})},setShowResults:function(t){e({type:"SET_SHOW_RESULTS",status:t})},setAmount:function(t){e({type:"SET_AMOUNT",amount:t})},setSelectedItem:function(t){e({type:"SET_SELECTED_ITEM",selectedItem:t})},calculate:function(){e({type:"CALCULATE"})}}})(function(e){console.log(e);var t=function(t,a,n){console.log(t),e.toggle?"to"===a?e.setBase(t):"from"===a&&e.setConvertTo(t):"from"===a?(e.setBase(t),e.setSelectedItem(t)):"to"===a&&e.setConvertTo(t),e.setShowResults(!1),n(!1)};return c.a.createElement("form",{className:"mt-2"},c.a.createElement("div",{className:"form-row align-items-center justify-content-around"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"AMOUNT"),c.a.createElement("input",{type:"number",onChange:function(t){e.saveLastCalculatedEntry(t),e.setAmount(t.target.value),e.calculate()},min:"0",max:"1000",placeholder:"Please enter a value",defaultValue:e.amount,className:"form-control form-control-lg amount-input"}))),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"FROM"),c.a.createElement(p,{id:e.toggle?"to":"from",selectItem:t,selectedItem:e.base,items:e.currencies}))),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"TO"),c.a.createElement(p,{id:e.toggle?"from":"to",selectedItem:e.convertTo,selectItem:t,items:e.currencies}))),c.a.createElement("div",{className:"col-md-4 mt-3"},c.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),e.calculate()},className:"btn btn-block btn-lg convert-btn"},"Convert"))))})),h=Object(r.b)(function(e){return{results:e.main.results}},function(e){return{setShowResults:function(t){e({type:"SET_SHOW_RESULTS",payload:t})}}})(function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"row align-items-center justify-content-center mt-3"},c.a.createElement("h4",{className:"text-center font-weight-bold"},e.results.amount," ",e.results.base," ="," ")),c.a.createElement("div",{className:"row align-items-center justify-content-center mt-3"},c.a.createElement("h1",{className:"results text-center display-4"},e.results.calculated,"\xa0",e.results.convertTo)),c.a.createElement("div",{className:"row align-items-center justify-content-center mt-3"},c.a.createElement("div",{className:"btn-group btn-group-lg",role:"group"},c.a.createElement("button",{onClick:function(t){e.setShowResults(!1)},type:"button",className:"btn btn-secondary bg-transparent text-white cancel-btn"},"Cancel"))),c.a.createElement("div",{className:"row align-items-center justify-content-center mt-5"},c.a.createElement("h5",{className:"text-center exchange-rate"},"1 ",e.results.base," = ",e.results.sell," ",e.results.convertTo," | 1 ",e.results.convertTo," ="," ",e.results.buy," ",e.results.base)),c.a.createElement("div",{className:"row align-items-center justify-content-center mt-4"},c.a.createElement("h5",{className:"text-uppercase text-center  font-weight-bold "},"Effective Date: ",e.results.date)),c.a.createElement("div",{className:"row  align-items-center justify-content-center mt-4"},c.a.createElement("small",{className:"text-center"},"*Switch between cheque and cash for your currency conversions. Rates are subject to change without notice.")))}),S=(a(63),Object(r.b)(function(e){return{showResults:e.main.showResults,currencies:e.main.currencies,convertTo:e.main.convertTo,toggle:e.main.toggle,base:e.main.base}},function(e){return{setCurrencies:function(t){e({type:"SET_CURRENCIES",currencies:t})},setBase:function(t){e({type:"SET_BASE",base:t})},setConvertTo:function(t){console.log(t),e({type:"SET_CONVERT_TO",payload:t})},setSelectedItem:function(t){console.log(t),e({type:"SET_SELECTED_ITEM",selectedItem:t})},calculate:function(){e({type:"CALCULATE"})}}})(function(e){console.log(e),Object(n.useEffect)(function(){var t;(function(){var a=Object(i.a)(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E()("https://fx-currency-converter.firebaseapp.com/api/v1/currencies/");case 2:t=a.sent,e.setCurrencies(t.data),console.log(t),e.setBase(t.data&&t.data[4]),e.setConvertTo({data:{base:"JMD",image:"https://firebasestorage.googleapis.com/v0/b/fx-currency-converter.appspot.com/o/JMD.png?alt=media&token=b94977bf-77e7-480c-9dd9-1878608249a1",name:"Jamaican Dollar",id:"JMD"}});case 7:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}})()().then(function(){e.toggle?e.setSelectedItem(e.convertTo):e.setSelectedItem(t.data&&t.data[4])})},[]);return c.a.createElement("div",{className:"container mt-5"},c.a.createElement("div",{className:"card py-4 px-4"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row align-items-top justify-content-between"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h4",{className:"card-title"},"FX CURRENCY CONVERTER")),c.a.createElement("div",{className:"col-md-3"},c.a.createElement(g,{swap:function(){console.log(e.base),e.setBase(e.convertTo),e.setConvertTo(e.base),setTimeout(function(){e.calculate()},100)}}))),c.a.createElement("hr",null),c.a.createElement(T,{setBase:e.setBase,base:e.base,convertTo:e.convertTo,setConvertTo:e.setConvertTo,currencies:e.currencies}),e.showResults?c.a.createElement(h,null):c.a.createElement("div",{className:"row align-items-center justify-content-center mt-4"},c.a.createElement("small",null,"*Switch between cheque and cash for your currency conversions. Rates are subject to change without notice.")))))})),w=a(2),C={lastInput:null,results:{date:"",amount:0,calculated:0,base:"",convertTo:"",sell:0,buy:0},showResults:!1,toggle:!1,currencies:[],base:null,amount:"",selectedItem:null,convertTo:null},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var c=e<0?"-":"",s=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),l=s.length>3?s.length%3:0;return c+(l?s.substr(0,l)+n:"")+s.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-s).toFixed(t).slice(2):"")}catch(r){console.log(r)}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;if(console.log(t),"SAVE_LAST_CALCULATED"===t.type)return Object(w.a)({},e,{lastInput:t.value});if("SET_RESULTS"===t.type)return Object(w.a)({},e,{results:t.payload});if("SET_SHOW_RESULTS"===t.type)return Object(w.a)({},e,{showResults:t.status});if("SET_TOGGLE"===t.type)return Object(w.a)({},e,{toggle:t.toggle});if("SET_CURRENCIES"===t.type)return Object(w.a)({},e,{currencies:t.currencies});if("SET_BASE"===t.type)return Object(w.a)({},e,{base:t.base});if("SET_AMOUNT"===t.type)return Object(w.a)({},e,{amount:t.amount});if("SET_SELECTED_ITEM"===t.type)return Object(w.a)({},e,{selectedItem:t.selectedItem});if("SET_CONVERT_TO"===t.type)return Object(w.a)({},e,{convertTo:t.payload});if("CALCULATE"===t.type){if(e.lastInput){if(!1===e.toggle){var a={date:N.a.unix(e.selectedItem.data.date._seconds).format("MMMM Do YYYY | h:mm:ss a"),amount:I(e.amount),calculated:I(e.selectedItem.data.cash.sell*e.amount),base:e.selectedItem.data.base,convertTo:"JMD",sell:I(e.selectedItem.data.cash.sell),buy:I(e.selectedItem.data.cash.buy)};return Object(w.a)({},e,{results:a,showResults:!0})}var n={date:N.a.unix(e.selectedItem.data.date._seconds).format("MMMM Do YYYY | h:mm:ss a"),amount:I(e.amount),calculated:I(e.selectedItem.data.cash.buy*e.amount),base:e.selectedItem.data.base,convertTo:"JMD",sell:I(e.selectedItem.data.cash.sell),buy:I(e.selectedItem.data.cash.buy)};return Object(w.a)({},e,{results:n,showResults:!0})}return e}return e},O=Object(o.b)({main:j});l.a.render(c.a.createElement(r.a,{store:Object(o.c)(O)},c.a.createElement(S,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.1d65b171.chunk.js.map